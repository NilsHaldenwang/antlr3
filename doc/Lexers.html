<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--

Design by NodeThirtyThree <http://www.nodethirtythree.com>
Published by Free CSS Templates <http://www.freecsstemplates.org/>
Released for free under a Creative Commons Attribution 2.5 License

Title      : stylized
Version    : 1.1
Released   : 20070716
Description: A two-column fixed width template for 1024x768 resolutions.

-->
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="general.css" rel="stylesheet" type="text/css" media="screen" />

<link rel="stylesheet" type="text/css" href="ANTLR3.css" />

<link rel="stylesheet" type="text/css" href="ruby.css" />

<style type="text/css">

</style>
</head>
<body>
  <p>A lexer&#8217;s job is to take a stream of text and chop it up into a sequence of <strong>tokens</strong> &#8212; little strings categorized with type codes like <code>NUMBER</code> or <code>KEYWORD</code>. For more information on tokens and their characteristics, read [[Tokens]].</p>
  <p>For a general overview of lexers, check out:</p>
  <ul>
  	<li><a href="http://www.google.com/url?sa=t&amp;source=web&amp;ct=res&amp;cd=1&amp;ved=0CAgQFjAA&amp;url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FLexical_analysis&amp;ei=eK-9S471BJCssQP418yGDg&amp;usg=AFQjCNER2EwT0Ymd2pezeM9cVLHgIJ4O-Q&amp;sig2=2GO2LKXviv_jS4ecBvRVNg" title="from Wikipedia">Lexical Analysis</a></li>
  	<li><a href="http://www.antlr.org/wiki/display/ANTLR3/ANTLR+v3+documentation">ANTLRv3 Documentation</a></li>
  </ul>
  <h2>Lexer Code and Class Structure</h2>
  <p>For a <code>combined</code> or <code>lexer</code> grammar named <code>Language</code>, <code>antlr4ruby</code> will generate a lexer class. In other <span class="caps">ANTLR</span> targets, the generated class is named <code>LanguageLexer</code>. However, this ruby implementation will generate a top level module named <code>Language</code>, which serves as a general namespace for the various entites required by the code. The actual lexer class is simply named <code>Lexer</code>, so the full name of the generated lexer will be <code>Language::Lexer</code>. Consider this really simple lexer grammar:</p>
  <notextile>
  <table class="ANTLR3" id="Digit">
  <tr class="code_line" id="Digit-1">
      <td class="line_number odd"><pre>1</pre></td>
      <td class="code"><pre><span class="k">lexer</span><span class="ws">&nbsp;</span><span class="k">grammar</span><span class="ws">&nbsp;</span><span class="name">Digit</span><span class="p">;</span><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-2">
      <td class="line_number even"><pre>2</pre></td>
      <td class="code"><pre><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-3">
      <td class="line_number odd"><pre>3</pre></td>
      <td class="code"><pre><span class="k">options&nbsp;{</span><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-4">
      <td class="line_number even"><pre>4</pre></td>
      <td class="code"><pre><span class="ws">&nbsp;&nbsp;</span><span class="id">language</span><span class="ws">&nbsp;</span><span class="o">=</span><span class="ws">&nbsp;</span><span class="id">Ruby</span><span class="p">;</span><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-5">
      <td class="line_number odd"><pre>5</pre></td>
      <td class="code"><pre><span class="k">}</span><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-6">
      <td class="line_number even"><pre>6</pre></td>
      <td class="code"><pre><span class="ws"></span></pre></td>
  </tr>
  <tr class="code_line" id="Digit-7">
      <td class="line_number odd"><pre>7</pre></td>
      <td class="code"><pre><span class="kd"><span class="caps">DIGIT</span></span><span class="p">:</span><span class="ws">&nbsp;</span><span class="s2">&#8216;0&#8217;</span><span class="ws">&nbsp;</span><span class="o">..</span><span class="ws">&nbsp;</span><span class="s2">&#8216;9&#8217;</span><span class="p">;</span></pre></td>
  </tr>
  </table>
  </notextile>
  <p>An abbreviated form of the output generated by <code>antlr4ruby Digit.g</code> is shown below:</p>
  <notextile>
  <table class="ruby" id="ruby610577648">
  <tr class="code_line" id="ruby610577648-1">
      <td class="line_number odd"><pre>01</pre></td>
      <td class="code"><pre><span class="c1">#&nbsp;editted&nbsp;out&nbsp;code&nbsp;that&nbsp;ensures&nbsp;the&nbsp;antlr3&nbsp;runtime&nbsp;library&nbsp;is&nbsp;required</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-2">
      <td class="line_number even"><pre>02</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-3">
      <td class="line_number odd"><pre>03</pre></td>
      <td class="code"><pre><span class="k">module</span><span class="tx">&nbsp;</span><span class="nn">Digit</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-4">
      <td class="line_number even"><pre>04</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="c1">#&nbsp;TokenData&nbsp;defines&nbsp;all&nbsp;of&nbsp;the&nbsp;token&nbsp;type&nbsp;integer&nbsp;values</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-5">
      <td class="line_number odd"><pre>05</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="c1">#&nbsp;as&nbsp;constants,&nbsp;which&nbsp;will&nbsp;be&nbsp;included&nbsp;in&nbsp;all&nbsp;</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-6">
      <td class="line_number even"><pre>06</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="c1">#&nbsp;<span class="caps">ANTLR</span>-generated&nbsp;recognizers.</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-7">
      <td class="line_number odd"><pre>07</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="nb">const_defined?</span><span class="p">(</span><span class="ss">:TokenData</span><span class="p">)</span><span class="tx">&nbsp;</span><span class="ow">or</span><span class="tx">&nbsp;</span><span class="no">TokenData</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">ANTLR3</span><span class="o">::</span><span class="no">TokenScheme</span><span class="o">.</span><span class="n">new</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-8">
      <td class="line_number even"><pre>08</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-9">
      <td class="line_number odd"><pre>09</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="k">module</span><span class="tx">&nbsp;</span><span class="nn">TokenData</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-10">
      <td class="line_number even"><pre>10</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-11">
      <td class="line_number odd"><pre>11</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;define&nbsp;the&nbsp;token&nbsp;constants</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-12">
      <td class="line_number even"><pre>12</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="n">define_tokens</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="ss">:<span class="caps">DIGIT</span></span><span class="tx">&nbsp;</span><span class="o">=</span><span class="o">&gt;</span><span class="tx">&nbsp;</span><span class="mi">4</span><span class="p">,</span><span class="tx">&nbsp;</span><span class="ss">:<span class="caps">EOF</span></span><span class="tx">&nbsp;</span><span class="o">=</span><span class="o">&gt;</span><span class="tx">&nbsp;</span><span class="o">-</span><span class="mi">1</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-13">
      <td class="line_number odd"><pre>13</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-14">
      <td class="line_number even"><pre>14</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-15">
      <td class="line_number odd"><pre>15</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-16">
      <td class="line_number even"><pre>16</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-17">
      <td class="line_number odd"><pre>17</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="k">class</span><span class="tx">&nbsp;</span><span class="nc">Lexer</span><span class="tx">&nbsp;</span><span class="o">&lt;</span><span class="tx">&nbsp;</span><span class="no">ANTLR3</span><span class="o">::</span><span class="no">Lexer</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-18">
      <td class="line_number even"><pre>18</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="vi">@grammar_home</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">Digit</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-19">
      <td class="line_number odd"><pre>19</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kp">include</span><span class="tx">&nbsp;</span><span class="no">TokenData</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-20">
      <td class="line_number even"><pre>20</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-21">
      <td class="line_number odd"><pre>21</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">begin</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-22">
      <td class="line_number even"><pre>22</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="n">generated_using</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="s2">&quot;</span><span class="s2">Digit.g</span><span class="s2">&quot;</span><span class="p">,</span><span class="tx">&nbsp;</span><span class="s2">&quot;</span><span class="s2">3.2.1-<span class="caps">SNAPSHOT</span>&nbsp;Dec&nbsp;18,&nbsp;2009&nbsp;04:29:28</span><span class="s2">&quot;</span><span class="p">,</span><span class="tx">&nbsp;</span><span class="s2">&quot;</span><span class="s2">1.6.3</span><span class="s2">&quot;</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-23">
      <td class="line_number odd"><pre>23</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">rescue</span><span class="tx">&nbsp;</span><span class="no">NoMethodError</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="o">&gt;</span><span class="tx">&nbsp;</span><span class="n">error</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-24">
      <td class="line_number even"><pre>24</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="n">error</span><span class="o">.</span><span class="n">name</span><span class="o">.</span><span class="n">to_sym</span><span class="tx">&nbsp;</span><span class="o">==</span><span class="tx">&nbsp;</span><span class="ss">:generated_using</span><span class="tx">&nbsp;</span><span class="ow">or</span><span class="tx">&nbsp;</span><span class="k">raise</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-25">
      <td class="line_number odd"><pre>25</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-26">
      <td class="line_number even"><pre>26</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-27">
      <td class="line_number odd"><pre>27</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="no">RULE_NAMES</span><span class="tx">&nbsp;&nbsp;&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="o">[</span><span class="s2">&quot;</span><span class="s2"><span class="caps">DIGIT</span></span><span class="s2">&quot;</span><span class="o">]</span><span class="o">.</span><span class="n">freeze</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-28">
      <td class="line_number even"><pre>28</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="no">RULE_METHODS</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="o">[</span><span class="ss">:digit!</span><span class="o">]</span><span class="o">.</span><span class="n">freeze</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-29">
      <td class="line_number odd"><pre>29</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-30">
      <td class="line_number even"><pre>30</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">def</span><span class="tx">&nbsp;</span><span class="nf">initialize</span><span class="p">(</span><span class="n">input</span><span class="o">=</span><span class="kp">nil</span><span class="p">,</span><span class="tx">&nbsp;</span><span class="n">options</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="p">{</span><span class="p">}</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-31">
      <td class="line_number odd"><pre>31</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">super</span><span class="p">(</span><span class="n">input</span><span class="p">,</span><span class="tx">&nbsp;</span><span class="n">options</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-32">
      <td class="line_number even"><pre>32</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-33">
      <td class="line_number odd"><pre>33</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-34">
      <td class="line_number even"><pre>34</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;lexer&nbsp;rules&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-&nbsp;-</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-35">
      <td class="line_number odd"><pre>35</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;lexer&nbsp;rule&nbsp;digit!&nbsp;(<span class="caps">DIGIT</span>)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-36">
      <td class="line_number even"><pre>36</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;(in&nbsp;/home/kyle/lib/ruby/projects/antlr3/test/functional/lexer/basic/Digit.g)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-37">
      <td class="line_number odd"><pre>37</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">def</span><span class="tx">&nbsp;</span><span class="nf">digit!</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-38">
      <td class="line_number even"><pre>38</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;editted&nbsp;out&nbsp;recognition&nbsp;logic</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-39">
      <td class="line_number odd"><pre>39</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-40">
      <td class="line_number even"><pre>40</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-41">
      <td class="line_number odd"><pre>41</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;main&nbsp;rule&nbsp;used&nbsp;to&nbsp;study&nbsp;the&nbsp;input&nbsp;at&nbsp;the&nbsp;current&nbsp;position,</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-42">
      <td class="line_number even"><pre>42</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;and&nbsp;choose&nbsp;the&nbsp;proper&nbsp;lexer&nbsp;rule&nbsp;to&nbsp;call&nbsp;in&nbsp;order&nbsp;to</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-43">
      <td class="line_number odd"><pre>43</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;fetch&nbsp;the&nbsp;next&nbsp;token</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-44">
      <td class="line_number even"><pre>44</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-45">
      <td class="line_number odd"><pre>45</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;usually,&nbsp;you&nbsp;don&#8217;t&nbsp;make&nbsp;direct&nbsp;calls&nbsp;to&nbsp;this&nbsp;method,</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-46">
      <td class="line_number even"><pre>46</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;but&nbsp;instead&nbsp;use&nbsp;the&nbsp;next_token&nbsp;method,&nbsp;which&nbsp;will</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-47">
      <td class="line_number odd"><pre>47</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;build&nbsp;and&nbsp;emit&nbsp;the&nbsp;actual&nbsp;next&nbsp;token</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-48">
      <td class="line_number even"><pre>48</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">def</span><span class="tx">&nbsp;</span><span class="nf">token!</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-49">
      <td class="line_number odd"><pre>49</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c1">#&nbsp;at&nbsp;line&nbsp;1:10:&nbsp;<span class="caps">DIGIT</span></span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-50">
      <td class="line_number even"><pre>50</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="n">digit!</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-51">
      <td class="line_number odd"><pre>51</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-52">
      <td class="line_number even"><pre>52</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="k">end</span><span class="tx">&nbsp;</span><span class="c1">#&nbsp;class&nbsp;Lexer&nbsp;&lt;&nbsp;ANTLR3::Lexer</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-53">
      <td class="line_number odd"><pre>53</pre></td>
      <td class="code"><pre><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610577648-54">
      <td class="line_number even"><pre>54</pre></td>
      <td class="code"><pre></pre></td>
  </tr>
  </table>
  </notextile>
  <p>Thus, the generated code for a lexer creates the following named entities:</p>
  <ol>
  	<li><code>module Language</code> &#8211; where <code>Language</code> is the name of the input grammar</li>
  	<li><code>class Language::Lexer &lt; ANTLR3::Lexer</code> &#8211; the lexer implementation</li>
  	<li><code>module Language::TokenData</code> &#8211; an <code>ANTLR3::TokenScheme</code> (subclass of <code>Module</code>), which is used to define token types and a token class</li>
  	<li><code>class Language::TokenData::Token &lt; ANTLR3::CommonToken</code> &#8211; not apparent in the code above, this class is dynamically created along with <code>Language::TokenData</code></li>
  </ol>
  <h2>Instantiating Lexers</h2>
  <p>A lexer must be provided with a text source to tokenize. More specifically, a lexer takes in a <strong>stream</strong> object, which feeds it characters from a text source, and produces a series of <strong>token</strong> objects. More often than not, the stream a lexer will operate upon will be an instance of <code>ANTLR3::StringStream</code> or <code>ANTLR3::FileStream</code>. Thus, the <code>initialize</code> method of a lexer has convenience code to automatically cast plain string and file object input into an appropriate stream object. For example, to instantiate a <code>Digit::Lexer</code> object from the grammar in the previous section, all of the following code excerpts correctly instantiate the lexer:</p>
  <notextile>
  <table class="ruby" id="ruby610877108">
  <tr class="code_line" id="ruby610877108-1">
      <td class="line_number odd"><pre>01</pre></td>
      <td class="code"><pre><span class="c1">#&nbsp;1.&nbsp;providing&nbsp;the&nbsp;lexer&nbsp;a&nbsp;stream&nbsp;object</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-2">
      <td class="line_number even"><pre>02</pre></td>
      <td class="code"><pre><span class="n">input</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">ANTLR3</span><span class="o">::</span><span class="no">StringStream</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="s2">&quot;</span><span class="s2">123</span><span class="s2">&quot;</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-3">
      <td class="line_number odd"><pre>03</pre></td>
      <td class="code"><pre><span class="n">lexer</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">Digit</span><span class="o">::</span><span class="no">Lexer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="n">input</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-4">
      <td class="line_number even"><pre>04</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-5">
      <td class="line_number odd"><pre>05</pre></td>
      <td class="code"><pre><span class="n">input</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">ANTLR3</span><span class="o">::</span><span class="no">FileStream</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="s1">&#8216;numbers.txt&#8217;</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-6">
      <td class="line_number even"><pre>06</pre></td>
      <td class="code"><pre><span class="n">lexer</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">Digit</span><span class="o">::</span><span class="no">Lexer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="n">input</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-7">
      <td class="line_number odd"><pre>07</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-8">
      <td class="line_number even"><pre>08</pre></td>
      <td class="code"><pre><span class="c1">#&nbsp;2.&nbsp;providing&nbsp;text&nbsp;directly&nbsp;to&nbsp;the&nbsp;lexer</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-9">
      <td class="line_number odd"><pre>09</pre></td>
      <td class="code"><pre><span class="n">lexer</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx">&nbsp;</span><span class="no">Digit</span><span class="o">::</span><span class="no">Lexer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="s2">&quot;</span><span class="s2">123</span><span class="s2">&quot;</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-10">
      <td class="line_number even"><pre>10</pre></td>
      <td class="code"><pre><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-11">
      <td class="line_number odd"><pre>11</pre></td>
      <td class="code"><pre><span class="n">lexer</span><span class="tx">&nbsp;</span><span class="o">=</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-12">
      <td class="line_number even"><pre>12</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="nb">open</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="s1">&#8216;numbers.txt&#8217;</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx">&nbsp;</span><span class="k">do</span><span class="tx">&nbsp;</span><span class="o">|</span><span class="tx">&nbsp;</span><span class="n">f</span><span class="tx">&nbsp;</span><span class="o">|</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-13">
      <td class="line_number odd"><pre>13</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="no">Digit</span><span class="o">::</span><span class="no">Lexer</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="tx">&nbsp;</span><span class="n">f</span><span class="tx">&nbsp;</span><span class="p">)</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-14">
      <td class="line_number even"><pre>14</pre></td>
      <td class="code"><pre><span class="tx">&nbsp;&nbsp;</span><span class="k">end</span><span class="tx"></span></pre></td>
  </tr>
  <tr class="code_line" id="ruby610877108-15">
      <td class="line_number odd"><pre>15</pre></td>
      <td class="code"><pre></pre></td>
  </tr>
  </table>
  </notextile>
</body>
</html>
